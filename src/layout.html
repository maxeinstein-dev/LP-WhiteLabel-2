<!DOCTYPE html>
<html lang="{{SEO_LANGUAGE}}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- SEO Meta Tags -->
    <title>{{SEO_TITLE}}</title>
    <meta name="description" content="{{SEO_DESCRIPTION}}" />
    <meta name="keywords" content="{{SEO_KEYWORDS}}" />
    <meta name="author" content="{{SEO_AUTHOR}}" />
    <link rel="icon" href="{{SEO_FAVICON}}" type="image/x-icon" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="{{SEO_TITLE}}" />
    <meta property="og:description" content="{{SEO_DESCRIPTION}}" />
    <meta property="og:image" content="{{SEO_OGIMAGE}}" />
    <meta property="og:locale" content="pt_BR" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{{SEO_TITLE}}" />
    <meta name="twitter:description" content="{{SEO_DESCRIPTION}}" />
    <meta name="twitter:image" content="{{SEO_OGIMAGE}}" />

    <!-- Preconnect for external resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
    <link rel="preconnect" href="https://images.unsplash.com" crossorigin />

    <!-- Preload critical resources -->
    <link
      rel="preload"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      as="style"
    />

    <!-- Fonts with display=swap and system fallback -->
    <link
      href="{{THEME_GOOGLEFONTSURL}}"
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    />
    <noscript
      ><link href="{{THEME_GOOGLEFONTSURL}}" rel="stylesheet"
    /></noscript>

    <!-- Bootstrap 5 CSS (async loading) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
      media="print"
      onload="this.media='all'"
    />
    <noscript>
      <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
        crossorigin="anonymous"
      />
    </noscript>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./assets/css/custom.css" />

    <!-- Theme Variables -->
    <style>
      /*THEME_CSS*/

      body {
        font-family: var(--font-family), -apple-system, BlinkMacSystemFont,
          "Segoe UI", Roboto, sans-serif;
      }

      .text-gradient {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .btn-primary {
        background: var(--primary-color);
        border-color: var(--primary-color);
      }

      .btn-primary:hover {
        background: var(--secondary-color);
        border-color: var(--secondary-color);
      }

      .btn-outline-primary {
        color: var(--primary-color);
        border-color: var(--primary-color);
      }

      .btn-outline-primary:hover {
        background: var(--primary-color);
        border-color: var(--primary-color);
        color: white;
      }
    </style>
  </head>
  <body>
    <!-- Main Content -->
    <main>{{CONTENT}}</main>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
            <p class="mb-0">{{FOOTER_TEXT}}</p>
          </div>
          <div class="col-md-6 text-center text-md-end">
            <a href="/privacidade" class="text-light text-decoration-none me-3"
              >Pol√≠tica de Privacidade</a
            >
            <a href="/termos" class="text-light text-decoration-none"
              >Termos de Uso</a
            >
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS Bundle (defer for better performance) -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <!-- Custom JavaScript (defer for better performance) -->
    <script defer src="./assets/js/main.js"></script>

    <script>
      // Ajusta caminhos absolutos de assets quando aberto via file:// para facilitar o teste local
      (function () {
        if (window.location.protocol !== "file:") return;

        function fixAttribute(el, attr) {
          const value = el.getAttribute(attr);
          if (value && value.startsWith("/assets")) {
            el.setAttribute(attr, `.${value}`);
          }
        }

        const selectors = [
          'link[href^="/assets"]',
          'script[src^="/assets"]',
          'img[src^="/assets"]',
          'meta[property="og:image"]',
          'meta[name="twitter:image"]',
          'link[rel="icon"]',
        ];

        selectors.forEach((selector) => {
          document.querySelectorAll(selector).forEach((el) => {
            if (el.hasAttribute("href")) fixAttribute(el, "href");
            if (el.hasAttribute("src")) fixAttribute(el, "src");
            if (el.hasAttribute("content")) fixAttribute(el, "content");
          });
        });
      })();
    </script>
  </body>
</html>
